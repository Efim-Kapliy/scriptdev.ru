# Truthy

В JavaScript есть концепция `truthy`, согласно которой выражения оцениваются как истинные (`true`) в определенных ситуациях (например, `if` условия и логические операторы `&&` `||`). Следующие выражения интерпретируются как истинные в JavaScript. Например, любое число, кроме `0`.

```ts
if (123) {
    // будет интерпретировано как `true`
    console.log('Any number other than 0 is truthy');
}
```

Все, что не интерпретируется как истинное, называется `falsy`.

Вот таблица для справки.

| Тип переменной                         | Когда это _falsy_    | Когда это _truthy_  |
| -------------------------------------- | -------------------- | ------------------- |
| `boolean`                              | `false`              | `true`              |
| `string`                               | `''` (пустая строка) | любая другая строка |
| `number`                               | `0` `NaN`            | любое другое число  |
| `null`                                 | всегда               | никогда             |
| `undefined`                            | всегда               | никогда             |
| Любой объект, включая пустые `{}`,`[]` | никогда              | всегда              |

## Явное преобразование

!!!info ""

    Паттерн `!!`

Как правило, полезно явно указывать, что значение нужно трактовать как `boolean` и конвертировать его в _явный boolean_ (один из `true`|`false`). Вы можете легко конвертировать значения в логические с помощью префикса `!!`, например `!!foo`.

Это просто _двойное_ использование `!`. Первый `!` конвертирует значение (в данном примере `foo`) в логический тип, но переворачивает логику (_истинное_ -`!`> `false`, _ложное_ -`!`> `true`). Второй `!` переворачивает логику еще раз, чтобы соответствовать первоначальному значению (e.g. _истинное_ -`!`> `false` -`!`> `true`).

Этот паттерн используется во многих случаях, например:

```js
// С переменными
const hasName = !!name;

// С полями объекта
const someObj = {
    hasName: !!name,
};

// или в ReactJS JSX
{
    !!someName && <div>{someName}</div>;
}
```
